{% extends 'base.html' %}
{% block title %}Novo Usuário | EXTENSÃO{% endblock %}

{% block content %}
<div class="container-fluid px-4 mt-3">
  <div class="card card-outline card-primary">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h3 class="card-title"><i class="fas fa-user-plus"></i> Novo Usuário</h3>
      <a href="{% url 'listar_usuarios' %}" class="btn btn-sm btn-secondary">
        <i class="fas fa-arrow-left"></i> Voltar
      </a>
    </div>
    <form method="post">
      {% csrf_token %}
      <div class="card-body row">
        <div class="form-group col-md-6">
          <label>Nome</label>
          <input type="text" name="first_name" class="form-control" required>
        </div>
        <div class="form-group col-md-6">
          <label>Sobrenome</label>
          <input type="text" name="last_name" class="form-control">
        </div>
        <div class="form-group col-md-6">
          <label>Usuário</label>
          <input type="text" name="username" class="form-control" required>
        </div>
        <div class="form-group col-md-6">
          <label>Email</label>
          <input type="email" name="email" class="form-control">
        </div>
        <div class="form-group col-md-6">
          <label>Senha</label>
          <div class="input-group">
            <input type="password" name="password" class="form-control" id="campoSenha" required>
            <div class="input-group-append">
              <button class="btn btn-outline-secondary" type="button" onclick="toggleSenha()" title="Mostrar ou ocultar senha">
                <i id="iconeSenha" class="fas fa-eye"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer d-flex justify-content-end">
        <button type="submit" class="btn btn-success">
          <i class="fas fa-save"></i> Salvar
        </button>
      </div>
    </form>
  </div>
</div>

<script>
  function toggleSenha() {
    const campo = document.getElementById("campoSenha");
    const icone = document.getElementById("iconeSenha");
    if (campo.type === "password") {
      campo.type = "text";
      icone.classList.remove("fa-eye");
      icone.classList.add("fa-eye-slash");
    } else {
      campo.type = "password";
      icone.classList.remove("fa-eye-slash");
      icone.classList.add("fa-eye");
    }
  }
</script>
{% endblock %}
